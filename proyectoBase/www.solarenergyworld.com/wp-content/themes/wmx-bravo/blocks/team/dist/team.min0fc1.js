document.addEventListener("DOMContentLoaded",(function(e){var t;function a(){return{block:null,loaded:!0,page:1,limit:!0,types:"",init:function(e){this.block=e,this.limit=this.block.dataset.limit,this.load()},pagination:function(e){var t=this,a=(e=JSON.parse(e)).totalPages,n=e.currentPage,i=this.block.querySelector(".pagination");if(i.innerHTML="",i.classList.remove("d-none"),a>1){var r=function(e,t){var a=document.createElement("a");a.classList.add("page-link"),a.setAttribute("href",window.location.href.split("?")[0]+"page/"+e),a.setAttribute("data-page",e),a.innerText=e,e===t&&a.classList.add("active"),i.appendChild(a)};if(n>1){var l=document.createElement("a");l.classList.add("page-link","page-arrow","page-prev"),l.setAttribute("href",window.location.href.split("?")[0]+"page/"+(n-1)),l.setAttribute("data-page",n-1),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="42" height="33" viewBox="0 0 42 33" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.6569 23.0711L10.2929 16.7072C9.90237 16.3166 9.90237 15.6835 10.2929 15.2929L16.6569 8.92898C17.0474 8.53846 17.6805 8.53846 18.0711 8.92898C18.4616 9.31951 18.4616 9.95267 18.0711 10.3432L13.4142 15L41 15.0001C41.5523 15.0001 42 15.4478 42 16.0001C42 16.5523 41.5523 17.0001 41 17.0001L13.4142 17L18.0711 21.6569C18.4616 22.0474 18.4616 22.6806 18.0711 23.0711C17.6805 23.4616 17.0474 23.4616 16.6569 23.0711Z" fill="currentColor"></path></svg>',i.appendChild(l)}var o=n-2,c=n+2;if(o<1&&(c=4+(o=1)),c>a&&(o=(c=a)-4)<1&&(o=1),a<=4)for(var d=1;d<=a;d++)r(d,n);else{o>2?(r(1,n),r("...",n)):2===o&&r(1,n);for(var s=o;s<=c;s++)r(s,n);c<a-1?(r("...",n),r(a,n)):c===a-1&&r(a,n)}if(n!=a){var u=document.createElement("a");u.classList.add("page-link","page-arrow","page-next"),u.setAttribute("href",window.location.href.split("?")[0]+"page/"+(n+1)),u.setAttribute("data-page",n+1),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="42" height="33" viewBox="0 0 42 33" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M25.3431 9.92888L31.7071 16.2928C32.0976 16.6834 32.0976 17.3165 31.7071 17.7071L25.3431 24.071C24.9526 24.4615 24.3195 24.4615 23.9289 24.071C23.5384 23.6805 23.5384 23.0473 23.9289 22.6568L28.5858 17.9999H1C0.447715 17.9999 0 17.5522 0 16.9999C0 16.4477 0.447715 15.9999 1 15.9999H28.5858L23.9289 11.3431C23.5384 10.9526 23.5384 10.3194 23.9289 9.92888C24.3195 9.53836 24.9526 9.53836 25.3431 9.92888Z" fill="currentColor"></path></svg>',i.appendChild(u)}this.block.querySelectorAll(".page-link").forEach((function(e){"..."!=e.dataset.page?e.addEventListener("click",(function(e){e.preventDefault(),t.block.querySelector(".team-target").innerHTML="",t.loaded=!0,t.page=e.currentTarget.dataset.page,t.load(),t.block.scrollIntoView()})):e.classList.add("disabled")}))}},pageItem:function(e,t){var a=document.createElement("a");return a.classList.add("page-link"),a.setAttribute("href","#"),a.setAttribute("data-page",e),a.innerText=e,e===t&&a.classList.add("active"),a},load:function(){var e=this,t=this.block.querySelector(".spinner"),a=this.block.querySelector(".team-target");this.block.querySelector(".pagination").innerHTML="",this.loaded||(a.innerHTML=""),t.style.display="block";var n=new FormData;n.append("action","members_get"),n.append("nonce",wmx_block_team_ajax.nonce),n.append("page",this.page),n.append("url",window.location.href.split("?")[0]),n.append("limit",this.limit),n.append("members",this.block.dataset.members),fetch(wmx_block_team_ajax.ajax_url,{method:"POST",credentials:"same-origin",body:n}).then((function(t){if(t.ok)return t;e.log("Error getting resources")})).then((function(t){return"true"===e.limit&&e.pagination(t.headers.get("pagination")),t.text()})).then((function(n){a.innerHTML=n,e.listeners(),t.style.display="none"}))},listeners:function(){this.block.querySelectorAll(".card").forEach((function(e){var t=e.querySelector("a");t&&(e.classList.add("linked"),e.addEventListener("click",(function(e){if(0===e.button)if(e.ctrlKey||e.metaKey){var a=document.createElement("a");a.setAttribute("aria-hidden","true"),a.href=t.href,a.target="_blank",a.click()}else t.click()})),e.addEventListener("auxclick",(function(e){if(1===e.button){e.preventDefault();var a=document.createElement("a");a.setAttribute("aria-hidden","true"),a.href=t.href,a.target="_blank",a.click()}})))}))},log:function(e){console.log(e)}}}document.querySelectorAll(".block--team").forEach((function(e){a().init(e)}));var n=new Set;"undefined"!=typeof wp&&null!==(t=wp)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.subscribe&&wp.data.subscribe((function(){document.querySelectorAll(".block--team").forEach((function(e){n.has(e)||(a().init(e),n.add(e))}))}))}));